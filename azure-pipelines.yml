strategy:
  matrix:
    Linux1ES:
      Pool: 'azsdk-pool-mms-ubuntu-2004-general'
      OsVmImage: 'MMSUbuntu20.04'
    LinuxHosted:
      Pool: 'Azure Pipelines'
      OsVmImage: 'ubuntu-20.04'

pool:
  name: $(Pool)
  vmImage: $(OSVmImage)

variables:
  skipComponentGovernanceDetection: true
  NugetSecurityAnalysisWarningLevel: 'none'

steps:
  - script: |
      hostname
    displayName: hostname

  - script: |
      ifconfig
    displayName: ifconfig

  - task: Maven@3
    inputs:
      goals: compile
    displayName: mvn compile

  - script: |
      java -cp target/classes com.example.App
    displayName: java com.example.App
