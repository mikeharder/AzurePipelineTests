strategy:
  matrix:
    Linux:
      Pool: "azsdk-pool-mms-ubuntu-2004-general"
      OSVmImage: "MMSUbuntu20.04"
    Windows:
      Pool: "azsdk-pool-mms-win-2019-general"
      OSVmImage: "MMS2019"
    Mac:
      Pool: Azure Pipelines
      OSVmImage: "macos-11"

${{ if eq(variables['Pool'], 'azsdk-pool-mms-win-2019-general'}}:
  pool:
    name: $(Pool)
    vmImage: $(OSVmImage)
    demands: 'ImageVersionOverride -equals 61.0.0'
${{ else }}:
  pool:
    name: $(Pool)
    vmImage: $(OSVmImage)

variables:
  skipComponentGovernanceDetection: true
  NugetSecurityAnalysisWarningLevel: 'none'

steps:
  - script: echo $(Agent.OS)
    displayName: print Agent.OS
