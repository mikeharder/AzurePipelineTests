strategy:
  matrix:
    Windows2019:
      Pool: 'azsdk-pool-mms-win-2019-general'
      OsVmImage: 'MMS2019'
    Windows2022:
      Pool: 'Azure Pipelines'
      OsVmImage: 'windows-2022'

pool:
  name: $(Pool)
  vmImage: $(OSVmImage)

variables:
  skipComponentGovernanceDetection: true
  NugetSecurityAnalysisWarningLevel: 'none'

steps:
  # - script: docker info
  #   displayName: docker info
  #   condition: succeededOrFailed()

  # - script: docker run -d --name squid-container -e TZ=UTC -p 3128:3128 ubuntu/squid
  #   displayName: docker run ubuntu/squid
  #   condition: succeededOrFailed()

  # - script: wsl --help
  #   displayName: wsl --help
  #   condition: succeededOrFailed()

  # - script: wsl --status
  #   displayName: wsl --status
  #   condition: succeededOrFailed()

  # - script: wsl -l -v
  #   displayName: wsl -l -v
  #   condition: succeededOrFailed()

  # - script: wsl --list --online
  #   displayName: wsl --list --online
  #   condition: succeededOrFailed()

  - script: wsl --install -d Ubuntu-20.04
    displayName: wsl --install -d Ubuntu-20.04
    condition: succeededOrFailed()

  # - script: wsl --status
  #   displayName: wsl --status
  #   condition: succeededOrFailed()

  - script: wsl -l -v
    displayName: wsl -l -v
    condition: succeededOrFailed()

  - script: timeout 30
    displayName: timeout 30
    condition: succeededOrFailed()

  - script: wsl -l -v
    displayName: wsl -l -v
    condition: succeededOrFailed()

  # - script: wsl -e sudo apt install squid
  #   displayName: wsl -e sudo apt install squid
  #   condition: succeededOrFailed()

  # - script: wsl --status
  #   displayName: wsl --status
  #   condition: succeededOrFailed()

  # - script: wsl -l -v
  #   displayName: wsl -l -v
  #   condition: succeededOrFailed()

  # - script: wsl --install
  #   displayName: wsl --install
  #   condition: succeededOrFailed()

  # - script: wsl --update
  #   displayName: wsl --update
  #   condition: succeededOrFailed()

