variables:
  foo: 3

strategy:
  maxParallel: $[ variables['foo'] ]
  matrix:
    Linux:
      OSVmImage: 'ubuntu-16.04'
    Windows:
      OSVmImage: 'vs2017-win2016'
    MacOs:
      OSVmImage: 'macOS-10.13'

pool:
  vmImage: '$(OSVmImage)'

steps:
  - script: echo hello
