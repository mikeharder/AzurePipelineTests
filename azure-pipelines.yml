parameters:
  - name: Outer
    type: boolean
    default: true
  - name: Inner
    type: boolean
    default: true

strategy:
  matrix:
    Linux:
      Pool: "azsdk-pool-mms-ubuntu-2204-general"
      OSVmImage: "ubuntu-22.04"

pool:
  name: $(Pool)
  vmImage: $(OSVmImage)

variables:
  skipComponentGovernanceDetection: true
  NugetSecurityAnalysisWarningLevel: 'none'

steps:
  - script: echo Before Conditions
    displayName: Before Conditions

  - ${{ if parameters.Outer }}:
    - script: echo Inside Outer
      displayName: Inside Outer
    - ${{ if parameters.Inner }}:
      - script: echo Inside Inner
        displayName: Inside Inner
    - ${{ if and(parameters.Outer, parameters.Inner) }}:
      - script: echo Inside Outer and Inner
        displayName: Inside Outer and Inner
